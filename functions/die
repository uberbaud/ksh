# @(#)[:UQ^);jj$RF!A%b3|N>@4: 2017-08-07 16:08:35 Z tw@csongor]
# vim: filetype=ksh tabstop=4 textwidth=72 noexpandtab

# SYNOPSIS: output an error message to stderr and exit
#
function die {
	(($#))|| set '^GNo message provided^g'
	local ln1="$1"; shift
	if (($#)); then
		printf '  ^EFAILED^e: %s\n' "$ln1"
		printf '          %s\n' "$@"
	else
		printf '  ^EFAILED^e: %s\n' "$ln1"
	fi | sparkle
	kill -QUIT $$
  } >&2

# vim: ft=ksh ts=4
