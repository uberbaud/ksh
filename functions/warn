# <@(#)tag:csongor.greyshirt.net,2017-08-07:tw/16.08.35z/dfdfb4>

#: FUNCTION ^Umsg line1^u ^[^Umsg lineâ€¦N^u^]
#:   Output a warning to ^SSTDERR^s.

function warn {
	(($#))|| set '^GNo message provided^g'
	local ln1="$1"; shift
	if (($#)); then
		printf '  ^Wwarning^w: %s\n' "$ln1"
		printf '           %s\n' "$@"
	else
		printf '  ^Wwarning^w: %s\n' "$ln1"
	fi | sparkle
	false # we got here with a non-zero $?, lets leave that way too
  } >&2


# vim: ft=ksh ts=4
